labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 绘制第二个图形
p2 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_all)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_all), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data_all)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_all),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF" = "orange","SB" ="steelblue",'COV' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 在一个1 x 2的画布上显示两个图形
plot_grid(p1, p2, ncol = 2, rel_widths = c(1, 1), rel_heights = c(0.8, 0.8), hgap = 0.2, vgap = 0.5)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
# 计算和处理数据
data_err <- process_data(Venn(x_ERR))
data_all <- process_data(Venn(x_ALL))
# 绘制第一个图形
p1 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_err)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_err), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data_err)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_err),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "orange","SB_ERR" ="steelblue",'COV_ERR' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 绘制第二个图形
p2 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_all)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_all), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data_all)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_all),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ALL" = "orange","SB_ALL" ="steelblue",'COV_ALL' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 在一个1 x 2的画布上显示两个图形
plot_grid(p1, p2, ncol = 2, rel_widths = c(1, 1), rel_heights = c(0.8, 0.8), hgap = 0.2, vgap = 0.5)
plot_grid(p1, p2, ncol = 2, rel_widths = c(1, 1), rel_heights = c(0.8, 0.8), hgap = 0.2, vgap = 0.5)
data <- process_data(Venn(x_ERR))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF" = "orange","SB" ="steelblue",'COV' = 'red'))+
# scale_fill_distiller(palette = "RdBu")+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
data <- process_data(Venn(x_ERR))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "orange","SB_ERR" ="steelblue",'COV_ERR' = 'red'))+
# scale_fill_distiller(palette = "RdBu")+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
data <- process_data(Venn(x_ERR))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "white", "SB_ERR" = "white", "COV_ERR" = "white")) +
# scale_fill_distiller(palette = "RdBu")+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
data <- process_data(Venn(x_ERR))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = name), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "orange","SB_ERR" ="steelblue",'COV_ERR' = 'red'))+
# scale_fill_distiller(palette = "RdBu")+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
data <- process_data(Venn(x_ERR))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red")) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
# 计算和处理数据
data_err <- process_data(Venn(x_ERR))
data_all <- process_data(Venn(x_ALL))
# 绘制第一个图形
p1 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_err)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_err), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR"), "", name)), data = venn_setlabel(data_err)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_err),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "orange","SB_ERR" ="steelblue",'COV_ERR' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 绘制第二个图形
p2 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_all)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_all), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ALL", "SB_ALL", "COV_ALL"), "", name)), data = venn_setlabel(data_all)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_all),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ALL" = "orange","SB_ALL" ="steelblue",'COV_ALL' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 在一个1 x 2的画布上显示两个图形
plot_grid(p1, p2, ncol = 2)
plot_grid(p1, p2, ncol = 2)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
# 计算和处理数据
data_err <- process_data(Venn(x_ERR))
data_all <- process_data(Venn(x_ALL))
# 绘制第一个图形
p1 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_err)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_err), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR"), "", name)), data = venn_setlabel(data_err)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_err),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ERR" = "orange","SB_ERR" ="steelblue",'COV_ERR' = 'red'))+
theme_void()+
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 绘制第二个图形
p2 <- ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data_all)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data_all), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ALL", "SB_ALL", "COV_ALL"), "", name)), data = venn_setlabel(data_all)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data_all),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue")+
scale_color_manual(values = c("AF_ALL" = "orange","SB_ALL" ="steelblue",'COV_ALL' = 'red'))+
theme_void()+
labs(title = "All position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
# 在一个1 x 2的画布上显示两个图形
plot_grid(p1, p2, ncol = 2)
plot_grid(p1, p2, ncol = 2)
venn <- venndetail(x)
plot(venn)
plot(venn, type = "vennpie")
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
library(UpSetR)
x <- list(
AF = data_ERR_AF$Position[data_ERR_AF$Flag == "True"],
SB = data_ERR_SB$Position[data_ERR_SB$Flag == "True"],
COV = data_ERR_COV$Position[data_ERR_COV$Flag == "True"]
)
upset(fromList(x), sets.bar.color = "#56B4E9",
order.by = "freq", empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
)
library(UpSetR)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
upset(fromList(combined_list), sets.bar.color = "#56B4E9",
order.by = "freq", empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
upset(fromList(combined_list), sets.bar.color = "#56B4E9",
order.by = "freq", # empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
vennpie(venndetail(combined_list))
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
venn <- venndetail(combined_list)
plot(venn)
plot(venn, type = "vennpie")
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
venn <- venndetail(combined_list)
plot(venn,type = "upset")
plot(venn, type = "vennpie")
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
print(upset(fromList(combined_list), sets.bar.color = "#56B4E9",
order.by = "freq", empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
))
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
upset(fromList(combined_list), sets.bar.color = "#56B4E9",
order.by = "freq", # empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
# 从数据框 combined_df 中删除 COV_ALL 列
combined_df <- combined_list[, -2]
combined_list[, -2]
combined_list[, -1]
combined_list
combined_list[-length(combined_list)]
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
combined_list <- c(x_ERR, x_ALL)
# 从数据框 combined_df 中删除 COV_ALL 列
combined_df <- combined_list[-length(combined_list)]
upset(fromList(combined_df), sets.bar.color = "#56B4E9",
order.by = "freq", # empty.intersections = "on",
set_size.show = T,
sets.x.label = "Set Size",
mainbar.y.label = "Intersection Size",
mb.ratio = c(0.55, 0.45)
)
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red")) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR", "COV_ALL", "AF_ALL", "SB_ALL"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red",
"AF_ALL" = "yellow","SB_ALL" ="green",'COV_ALL' = 'purple')) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR", "COV_ALL", "AF_ALL", "SB_ALL"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = count,
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red",
"AF_ALL" = "yellow","SB_ALL" ="green",'COV_ALL' = 'purple')) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR", "COV_ALL", "AF_ALL", "SB_ALL"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = None),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red",
"AF_ALL" = "yellow","SB_ALL" ="green",'COV_ALL' = 'purple')) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR", "COV_ALL", "AF_ALL", "SB_ALL"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red",
"AF_ALL" = "yellow","SB_ALL" ="green",'COV_ALL' = 'purple')) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
library(ggplot2)
library(sf)
library(venn)
library(cowplot)
data <- process_data(Venn(combined_list))
ggplot() +
# 1. region count layer
geom_sf(aes(fill = count), data = venn_region(data)) +
# 2. set edge layer
geom_sf(aes(color = name), data = venn_setedge(data), show.legend = TRUE, size = 2) +
# 3. set label layer
geom_sf_text(aes(label = ifelse(name %in% c("AF_ERR", "SB_ERR", "COV_ERR", "COV_ALL", "AF_ALL", "SB_ALL"), "", name)), data = venn_setlabel(data)) +
# 4. region label layer
geom_sf_label(aes(label = paste0(count, " (", scales::percent(count/sum(count), accuracy = 2), ")")),
data = venn_region(data),
size = 3) +
scale_fill_gradient(low = "#F4FAFE", high = "skyblue") +
scale_color_manual(values = c("AF_ERR" = "orange", "SB_ERR" = "steelblue", "COV_ERR" = "red",
"AF_ALL" = "yellow","SB_ALL" ="green",'COV_ALL' = 'purple')) +
# scale_fill_distiller(palette = "RdBu")+
theme_void() +
labs(title = "Error position's Venn Diagram",
subtitle = "blank for now",
caption = Sys.Date())
